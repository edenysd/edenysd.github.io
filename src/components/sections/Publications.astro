---
import Arrow from "@/icons/Arrow.astro";
import Section from "../Section.astro";

import { publications } from "@cv";
---

<Section className={Astro.props.className} title="Publications">
  <ul class="space-y-4 print:space-y-0">
    {
      publications.map(({ name, summary, publisher, releaseDate, url }) => {
        const year = new Date(releaseDate).getUTCFullYear();

        return (
          <div class="relative grid w-full gap-1">
            {url ? (
              <a
                class="group flex items-center gap-[6px] font-medium decoration-dotted underline-offset-[5px] hover:text-skin-hue hover:underline"
                href={url}
                title={`Ver ${name}`}
                target="_blank"
              >
                <h3 class="mr-6 items-center font-medium text-inherit">
                  {name}
                  <span class="inline-block align-middle text-skin-hue transition ease-linear group-hover:-translate-y-0.5 group-hover:translate-x-0.5">
                    <Arrow />
                  </span>
                </h3>
              </a>
            ) : (
              <h3 class="mr-6 flex items-center gap-x-2 gap-y-0.5 fill-skin-hue font-medium">
                {name}
              </h3>
            )}

            <p class="mr-6 flex items-baseline gap-x-2 gap-y-0.5 text-skin-base">
              {publisher}
            </p>
            <time class="right-0 top-0 text-xs text-skin-muted md:absolute md:block">
              {year}
            </time>

            <p class="mr-6 text-sm text-skin-muted">{summary}</p>
          </div>
        );
      })
    }
  </ul>
</Section>
